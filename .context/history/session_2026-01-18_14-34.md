# 세션 히스토리: 모니터링 스택 검증 및 대시보드 수정

**날짜**: 2026-01-18 14:34

## 완료한 작업

### 1. 미커밋 변경사항 커밋
- **커밋**: `8454854`
- **내용**: 이전 세션의 모니터링 스택 설정 수정사항 커밋
  - Grafana datasource uid 설정
  - Prometheus 불필요한 job 제거
  - Docker Compose 헬스체크 추가
  - FastAPI 로그 경로 수정

### 2. Docker Compose 모니터링 스택 재시작
- Docker Desktop 시작 후 모니터링 스택 실행
- 기존 `grafana` 컨테이너(5주 전 생성)가 포트 3000 점유 → 제거 후 `mlops-grafana` 시작
- 실행 중인 서비스: prometheus, grafana, loki, promtail, node-exporter, cadvisor

### 3. Prometheus 타겟 상태 확인
- **UP (4개)**: cadvisor, loki, node-exporter, prometheus
- **DOWN (3개)**: fastapi, minio, vllm (컨테이너 미실행 - 정상)

### 4. Grafana 대시보드 JSON 형식 수정
- **문제**: 대시보드 파일에 `"dashboard": {...}` 래퍼가 있어 provisioning 실패
- **해결**: 4개 파일 모두 래퍼 제거
- **커밋**: `f4ceedf`

### 5. Grafana 대시보드 로드 검증
- 4개 대시보드 정상 로드 확인:
  - MLOps System Overview
  - Inference Metrics
  - Training Metrics
  - Unified Logs Dashboard

## 커밋 목록
1. `8454854` - fix: 모니터링 스택 설정 수정
2. `f4ceedf` - fix: Grafana 대시보드 JSON 형식 수정

## 현재 상태
- Prometheus: http://localhost:9090
- Grafana: http://localhost:3000 (admin/admin)
- 모니터링 스택 정상 작동 중

## 다음 세션 TODO
- GPU 메트릭 수집을 위한 nvidia_smi_exporter 구성 (GPU 서버 환경에서)
- vLLM/FastAPI/MLflow 서비스 시작 및 전체 스택 테스트
