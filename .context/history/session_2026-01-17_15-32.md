# 세션 기록: 2026-01-17 15:32

## 완료한 작업
- [x] 서브 CLAUDE.md 생성 (core/, models/, schemas/, cruds/, routers/)
- [x] src/serve/CLAUDE.md 업데이트 (클린 아키텍처 구조 반영)
- [x] 테스트 실행 및 버그 수정 (21 passed)
- [x] 서버 실행 검증
- [x] pyenv 가상환경 설정 (`mlops-project`)
- [x] 의존성 설치 (pytest, sqlalchemy, httpx, openai 등)

## 주요 결정사항
- pyenv virtualenv로 프로젝트 전용 가상환경 생성 (`mlops-project`)
- `vllm_client.py` 심볼릭 링크 생성 (02_vllm_client.py → vllm_client.py)
- Pydantic v2 스타일 적용 (ConfigDict)

## 수정된 버그
1. conftest.py: `get_db` → `get_db_session` override 수정
2. schemas/chat.py: `class Config` → `model_config = ConfigDict(...)` 변경
3. cruds/chat.py: `get_chats()`에 `selectinload(Chat.messages)` 추가 (lazy loading 이슈)

## 생성된 서브 CLAUDE.md
- src/serve/core/CLAUDE.md
- src/serve/models/CLAUDE.md
- src/serve/schemas/CLAUDE.md
- src/serve/cruds/CLAUDE.md
- src/serve/routers/CLAUDE.md

## 터미널 로그
- .context/terminal/pyenv_virtualenv_*.log
- .context/terminal/pip_install_*.log
- .context/terminal/pytest_*.log
- .context/terminal/server_*.log

## 다음 세션 TODO
- [ ] Alembic 마이그레이션 설정
- [ ] vLLM 서버 연동 테스트
- [ ] 프로덕션 배포 준비

## 참고 사항
- 가상환경 활성화: 프로젝트 디렉토리 진입 시 자동 (.python-version)
- 테스트 실행: `python -m pytest tests/serve/ -v`
- 서버 실행: `python -m src.serve.main`
