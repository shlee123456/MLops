{
  "project": "MLOps Chatbot",
  "branchName": "feature/logging-audit",
  "description": "로깅 시스템 점검 - logs/ 디렉토리의 모든 서비스가 파일 로그를 정상적으로 생성하는지 확인하고 개선",
  "userStories": [
    {
      "id": "US-001",
      "title": "vLLM 서비스 로그 파일 생성 점검 및 개선",
      "description": "As a 개발자, I want vLLM 컨테이너가 logs/vllm/ 디렉토리에 파일 로그를 생성하기를 원한다 so that 디버깅 및 모니터링이 가능하다.",
      "acceptanceCriteria": [
        "deployment/serving/Dockerfile.vllm의 로깅 설정 확인",
        "vLLM 시작 스크립트가 로그를 파일로 리다이렉트하는지 검증",
        "컨테이너 실행 후 logs/vllm/ 디렉토리에 로그 파일 생성 확인",
        "로그 파일에 vLLM 시작 메시지, 모델 로딩 로그 포함 여부 확인",
        "로그가 생성되지 않으면 스크립트 수정하여 로그 생성 활성화",
        "수정 후 재시작하여 로그 생성 재확인",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "start-vllm.sh에 tee를 사용한 로그 파일 리다이렉션 추가 완료. deployment/CLAUDE.md 문서화 완료."
    },
    {
      "id": "US-002",
      "title": "FastAPI 서비스 로그 생성 검증",
      "description": "As a 개발자, I want FastAPI 서비스가 logs/fastapi/ 디렉토리에 구조화된 JSON 로그를 생성하는지 확인하고 싶다 so that API 요청/응답을 추적할 수 있다.",
      "acceptanceCriteria": [
        "src/serve/main.py에서 로깅 설정 확인 (logging_utils 사용)",
        "logs/fastapi/ 디렉토리에 JSON 로그 파일 존재 확인",
        "API 요청 발생 시 로그가 실시간으로 기록되는지 테스트 (curl 또는 pytest)",
        "로그에 request_id, method, path, status_code, duration_ms 포함 여부 검증",
        "문제 발견 시 src/utils/logging_utils.py 설정 수정",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "MLflow 서비스 로그 생성 검증",
      "description": "As a 개발자, I want MLflow 컨테이너가 logs/mlflow/ 디렉토리에 로그를 생성하는지 확인하고 싶다 so that MLflow 서버 문제를 진단할 수 있다.",
      "acceptanceCriteria": [
        "docker/docker-compose.mlflow.yml의 볼륨 마운트 확인 (logs/mlflow 매핑)",
        "MLflow 컨테이너 실행 후 logs/mlflow/ 디렉토리에 로그 파일 생성 확인",
        "로그 파일에 MLflow 서버 시작 메시지, 요청 로그 포함 여부 검증",
        "로그가 생성되지 않으면 Dockerfile 또는 entrypoint 스크립트 수정",
        "수정 후 재시작하여 로그 생성 재확인",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Inference/System/Training 로그 디렉토리 사용 여부 점검",
      "description": "As a 개발자, I want logs/inference, logs/system, logs/training 디렉토리를 사용하는 코드가 있는지 확인하고 싶다 so that 사용하지 않는 디렉토리를 식별할 수 있다.",
      "acceptanceCriteria": [
        "src/ 디렉토리에서 logs/inference, logs/system, logs/training 경로를 사용하는 코드 검색",
        "각 로그 타입을 사용하는 스크립트/모듈 식별",
        "해당 스크립트 실행 후 로그 파일 생성 확인 (사용 중인 경우)",
        "로그가 생성되지 않으면 src/utils/logging_utils.py 설정 검토",
        "사용하지 않는 디렉토리는 docs/references/LOGGING.md에 명시",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "로깅 설정 문서화 및 검증 스크립트 작성",
      "description": "As a 개발자, I want 각 서비스의 로깅 설정을 문서화하고 로그 생성을 검증하는 스크립트를 작성하고 싶다 so that 향후 로그 문제를 쉽게 진단할 수 있다.",
      "acceptanceCriteria": [
        "docs/references/LOGGING.md에 각 서비스별 로그 경로, 포맷, 설정 방법 업데이트",
        "src/serve/CLAUDE.md, deployment/CLAUDE.md에 로깅 설정 정보 추가",
        "로그 생성을 검증하는 scripts/check_logs.sh 작성",
        "스크립트 실행 시 각 서비스의 로그 파일 존재 여부 출력",
        "터미널 로그 기록: .context/terminal/logging_audit_$(date +%s).log",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    }
  ]
}
