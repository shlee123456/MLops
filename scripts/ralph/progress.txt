# Ralph Progress Log
Started: 2026-01-28
---

## Codebase Patterns
- **Docker 로그 파일**: 컨테이너 로그를 호스트에 저장 시 `/logs` 디렉토리를 호스트의 `logs/[service]/`에 마운트. Dockerfile에서 `/logs` 디렉토리 생성 필수.
- **Bash 로그 리다이렉션**: 백그라운드 프로세스 로그를 파일과 콘솔에 동시 출력하려면 `> >(tee -a logfile) 2> >(tee -a logfile >&2)` 패턴 사용

---
## 2026-01-28 00:30 - US-001
- vLLM 서비스 로그 파일 생성 기능 구현 완료
- **Files changed:**
  - `deployment/serving/start-vllm.sh`: 로그 파일 리다이렉션 추가
    - 타임스탬프 기반 로그 파일명 생성 (model1_YYYYMMDD_HHMMSS.log)
    - `tee` 명령으로 콘솔과 파일에 동시 출력
    - stdout과 stderr 모두 캡처
  - `deployment/CLAUDE.md`: vLLM 로깅 설정 문서화 섹션 추가

- **Learnings for future iterations:**
  - **Pattern**: vLLM 컨테이너는 `/logs` 디렉토리를 `logs/vllm/`에 마운트. Dockerfile에서 `/logs` 디렉토리 생성 필수.
  - **Pattern**: Docker Compose에서 볼륨 마운트 설정 시 호스트 경로는 상대 경로 사용 (`../logs/vllm:/logs`)
  - **Pattern**: Bash 스크립트에서 백그라운드 프로세스 로그 리다이렉션 시 `tee`와 process substitution `> >(...)` 사용
  - **Gotcha**: pyenv 환경(`mlops-project`)이 설치되지 않아 pytest 실행 불가. 컨테이너 기반 검증 필요.
  - **Context**: vLLM 다중 모델 설정에서 각 모델은 독립적인 로그 파일을 가짐
---

